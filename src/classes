class person:
   def __init__(self , name ,money , mood = None , healthrate=None):
    self.name = name
    self.money = money
    self.mood = mood
    self.healthrate = healthrate

   def sleep (self , hours):
    if hours == 7:
            self.mood = 'happy'
            print(f"{self.name} slept for {hours} hours and feels happy.")
    elif hours < 7:
            self.mood = 'tired'
            print(f"{self.name} slept for only {hours} hours and feels tired.")
    else:
            self.mood = 'lazy'
            print(f"{self.name} slept for {hours} hours and feels lazy.")

   def eat (self , meals):
    if meals == 3:
        self.healthrate = "100%"
        print(f"{self.name} ate {meals} meals. Health rate: 100%")
    elif meals == 2:
        self.healthrate = "75%"
        print(f"{self.name} ate {meals} meals. Health rate: 75%")
    elif meals == 1:
        self.healthrate = "50%"
        print(f"{self.name} ate {meals} meal. Health rate: 50%")
    else:
        print(f"{self.name} didn't eat any meals today.")

   def buy (self , items):
    self.money = self.money - (10 * items)  



class Car:
    def __init__(self, name, fuel_rate=100, velocity=0):
        self.name = name
        self._fuel_rate = None
        self._velocity = None
        self.fuel_rate = fuel_rate
        self.velocity = velocity
    @property
    def fuel_rate(self):
        return self._fuel_rate
    
    @fuel_rate.setter
    def fuel_rate(self, value):
        if value < 0:
            self._fuel_rate = 0
        elif value > 100:
            self._fuel_rate = 100
        else:
            self._fuel_rate = value
    
    @property
    def velocity(self):
        return self._velocity
    
    @velocity.setter
    def velocity(self, value):
        if value < 0:
            self._velocity = 0
        elif value > 200:
            self._velocity = 200
        else:
            self._velocity = value
    
    def run(self, velocity, distance):
        self.velocity = velocity
        print(f"\n{self.name} is running at {self.velocity} km/h.")
        remaining_distance = distance
        while remaining_distance > 0 and self.fuel_rate > 0:
            segment = min(10, remaining_distance)
            if self.fuel_rate <= 0:
                print(f"Out of fuel! Cannot continue.")
                break
            remaining_distance -= segment
            self.fuel_rate -= 10
            print(f"Traveled {segment} km. Fuel: {self.fuel_rate}%. Remaining distance: {remaining_distance} km")
        self.stop(remaining_distance)
    
    def stop(self, remaining_distance=0):
        self.velocity = 0
        if remaining_distance <= 0:
            print(f"\n {self.name} has arrived at the destination.")
        else:
            print(f"\n {self.name} stopped {remaining_distance} km before the destination.")


class Employee(person):
    def __init__(self, emp_id, car ,email, salary, distance_to_work , name , money):
        super().__init__(name, money)
        self.id = emp_id
        self.car = car
        self.email = email
        self.salary = salary
        self.distance_to_work = distance_to_work
    def work(self, hours):
        if not isinstance(hours, int) and not (0 <= hours <= 24):
            raise ValueError("hours must be numbers and between (0,24)")
        if hours == 8:
            self.mood = 'happy'
            print(f"{self.name} worked for {hours} hours and feels happy!")
        elif hours > 8:
            self.mood = 'tired'
            print(f"{self.name} worked for {hours} hours and feels tired.")
        else:  
            self.mood = 'lazy'
            print(f"{self.name} worked for only {hours} hours and feels lazy.")
    
    def drive(self, distance, velocity):
        self.car.run(velocity, distance)
    
    def refuel(self, gas_amount=100):
        old_fuel = self.car.fuel_rate
        self.car.fuel_rate += gas_amount
    
    def send_mail(self, to, subject, body):
        print(f"From: {self.email}")
        print(f"To: {to}")
        print(f"Subject: {subject}")
        print(f"Message: {body}")

class office:
    def __init__(self, name):
        self.name = name
        self.employees = []
    def get_all_employees(self):
        return self.employees
    def get_employee(self, emp_id): 
        for emp in self.employees:
            if emp.id == emp_id:
                return emp
        return None             
    def hire(self, employee):
        self.employees.append(employee) 
    def fire(self, emp_id):
        for emp in self.employees:
            if emp.id == emp_id:
                self.employees.remove(emp)
                return True
        return False    
    def deduct_salary(self, emp_id, amount):
        employee = self.get_employee(emp_id)
        if employee:
            employee.money -= amount
            return f"Deducted {amount} from employee {emp_id}. New salary: {employee.money}"
        else:
            return f"Employee with ID {emp_id} not found."
    def reward_employee(self, emp_id, amount):
        employee = self.get_employee(emp_id)
        if employee:
            employee.money += amount
            return f"Added {amount} to employee {emp_id}. New salary: {employee.money}"
        else:
            return f"Employee with ID {emp_id} not found."
    def check_lateness(self, emp_id, move_hour):
        employee = self.get_employee(emp_id)
        if not employee:
            print(f"Cannot check lateness: Employee with ID {emp_id} not found.")
            return
        target_hour = 9.0
        is_late = self.calculate_lateness(target_hour, move_hour)
        if is_late:
            self.deduct(emp_id, 10)
            print(f" {employee.name} is LATE!")
        else:
            self.reward(emp_id, 10)
            print(f" {employee.name} is ON TIME!")
    


